{% extends "base.html" %}

{% block app_content %}
    <h1>Students List !!!</h1>
    <div>
        <a class="btn btn-primary" href="{{ url_for('students_create') }}">Create New</a>
        <a  class="btn btn-primary" href="{{ url_for('students_create_many') }}">Insert Many Students from Excel</a>
    </div>
    </br>
    <div>
        <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Username</th>
            <th scope="col">Last Name</th>
            <th scope="col">First Name</th>
            <th scope="col">Birth Date</th>
            <th scope="col">Birth Place</th>
            <th scope="col">Wilaya</th>
            <th scope="col">Branch</th>
            <th scope="col">Email</th>
          </tr>
        </thead>
        <tbody>
        {% for student in students %}
          <tr>
            <td>{{loop.index}}</td>
            <td><a href="{{ url_for('student_view', id=student.id) }}">{{ student.username }}</a></td>
            <td>{{ student.last_name | replace(' ', ' ') }}</td>
            <td>{{ student.first_name | replace(' ', ' ') }}</td>
            <td>{{ student.birth_date | replace('None', '') }}</td>
            <td>{{ student.birth_place | replace('None', '') }}</td>
            <td>
              {% if student.wilaya %}
                {{ student.wilaya.get_label() | replace('None', '') }}
              {% endif %}
            </td>
            <td>{{ student.branch.name }}</td>
            <td>{{ student.email | replace('None', '') }}</td>
            <td><a href="{{ url_for('student_edit', id=student.id) }}">Edit</a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>

      </br>
      </br>
      - show students in ztree by Promo</br>
      - filter by searsh box & advanced filtering</br>
      - load dynamically</br>
      - it should be able to search unloaded students by Ajax</br>
           or load students </br>
      </br>


    </div>

{% endblock %}
