{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}


{% block styles %}
  {{super()}}
  <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
  <link rel="stylesheet" type="text/css" 
        href="{{ url_for('static', filename='handsontable/handsontable.full.2.0.0.min.css') }}">
  <script src="{{ url_for('static', filename='handsontable/handsontable.full.2.0.0.min.js') }}"></script>
  
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/csshake.min.css') }}">

  <style>
    input[type=text] {
      width: 300px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 2px;
      background-color: white;
      background-image: url('{{ url_for('static', filename='img/searchicon.png') }}');
      background-position: 5px 5px;
      background-repeat: no-repeat;
      -webkit-transition: width 0.4s ease-in-out;
      transition: width 0.4s ease-in-out;
      padding: 7px 10px 7px 40px;
      margin-bottom: 2px;
    }

    #hot{
      width:100%;
    }

    .stripes {
      background: repeating-linear-gradient(
        -45deg,
        transparent 4px,
        transparent 10px,
        #EEE 6px,
        #EEE 16px
      );
    }

  </style>
{% endblock %}







{% block app_content %}

  {% set S = "Semester" -%}
  {% if session.is_rattrapage %}
    {% set S = "Rattrapage" %}
  {% endif %}
    
  <h3>Grades by {{ grid_title }}</h3>
  <div class="container" onbeforeunload ="alert('aaaaa');">

    <input id="search" name="search" placeholder="Filter ..." type="text" autocomplete="off">
    
    <div id="hot" class="hot handsontable">
      <h2> *** the grid is empty *** </h2>
      <h3> ** you have to add students and initialize ** </h3>
    </div>
    </br>
    <button id="save" class="btn btn-primary">Save</button>
       <label><input name="autosave" id="autosave" autocomplete="off" type="checkbox" > Autosave</label>
    </br>
    </br>
    <pre id="message" class="console"><h3>*** if you see this: the JavaScript in (_grid.js) is not working ***<h3> </pre>
    </br>

    {% if type == 'module' %}
    <a href ="{{url_for('print_module_students_empty', session_id=session.id, module_id=module.id) }}" target="_blank" class="btn btn-primary" role="button">Print Module</a>
    <a href ="{{url_for('print_module_students_empty', session_id=session.id, module_id=module.id, empty='yes') }}" target="_blank" class="btn btn-primary" role="button">Print Module Empty</a>
    {% endif %}
    </br></br>
  </div>
  - don't save if not valide</br>
       fix the messages</br>
  - show an error message</br>
  - if autosave is false set DIRTY</br>
  - i need to check that the Modules are up to date with the configuration</br>
       maybe i shoold add the Messing Modules in gray and Flag the Extras</br>
  - color cells according to value</br>
  - Add a Free Grade insertion for teachers like a Draft maybe in the table percentage</br>  
  - Download Excel
  </br>
  </br>


{% endblock %}


{% block scripts %}
  {{ super() }}
  <script type="text/javascript">
    {% include "grade/_grid.js" %}
  </script>
{% endblock %}
