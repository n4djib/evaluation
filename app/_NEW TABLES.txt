
= add field 'is_rattrapage' boolean in 'module_session'

= add 'tmp_session_id' to module_session
= COPY DATA
    

= fill by running code
    fill 'promo_id'
    fill 'is_rattrapage'
    fill 'module_code' & 'module_name'




= make FK attendance to module_calendar cascade

= add 'ccp' varchar 150
     to Table "teacher" & "student"



= create tables
    CREATE TABLE role (
        id INTEGER PRIMARY KEY,
        name VARCHAR (50) 
    );

    CREATE TABLE user_roles (
        id INTEGER PRIMARY KEY,
        user_id INTEGER,
        role_id INTEGER,
        FOREIGN KEY (user_id)
        REFERENCES user (id) ON DELETE CASCADE ON UPDATE CASCADE,
        FOREIGN KEY (role_id)
        REFERENCES role (id) ON DELETE CASCADE ON UPDATE CASCADE
    );


= add records to table "user_roles"
4    3    1
5    2    1

= 
pip install flask-principal
pip install permission

= add field 'is_active' to tables
    user
    student
    teacher

= change is_active to "1" in user table

= TABLES
    CREATE TABLE attendance_supervisor (
        id INTEGER PRIMARY KEY,
        session_id INTEGER,
        user_id INTEGER,
        FOREIGN KEY (session_id)
        REFERENCES session (id),
        FOREIGN KEY (user_id)
        REFERENCES user (id) 
    );


= 

= 

= 

= 

= 

= 

= 




======== grab these ========

== _run_celery.bat
color 06
cmd /k "env\Scripts\activate && celery -A app:celery worker --loglevel=info -P gevent"

== evaluation.bat
color 05
set flask_app=app.py
set flask_debug=0

start "celery" "_run_celery.bat"
cmd /k "env\Scripts\activate && flask run"



                    #### Add the path of your Redis folder as a Windows ‘environment variable.’
                    # install redis server
                    $ redis-server --service-install

                    # start redis server
                    $ redis-server --service-start

                    # save and stop the Redis database
                    $ redis-server shutdown save

                    # from command line please check if redis is up
                    $ redis-cli ping



= 

= 

= 